webpackJsonp([1],{21:function(t,n,o){"use strict";var e=o(5),a=o(80),i=o(71),s=o.n(i),c=o(72),r=o.n(c),l=o(73),u=o.n(l),d=o(74),p=o.n(d);e.default.use(a.a),n.a=new a.a({routes:[{path:"/",name:"Home",component:s.a},{path:"/my",name:"My",component:r.a},{path:"/mycoupon",name:"MyCoupon",component:u.a},{path:"/myprize",name:"MyPrize",component:p.a}]})},22:function(t,n){},23:function(t,n,o){var e=o(1)(o(42),o(77),null,null);t.exports=e.exports},42:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"app"}},43:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(49),a=o.n(e),i=o(70),s=o.n(i),c=o(2),r=o.n(c),l=o(4),u=o.n(l);n.default={name:"app",data:function(){var t;return t={domain:"http://"+window.location.hostname},a()(t,"domain","http://plus.haiyuelvxing.com"),a()(t,"couponlist",{}),a()(t,"openid",""),a()(t,"post",{}),t},mounted:function(){this.wxShare()},created:function(){var t=this;r.a.get(t.domain+"/activity/coupon/index.html").then(function(n){if(-2===n.data.code)return window.location.href=t.domain+"/wechat/oauth/callback.html",!1;t.status=n.data.data.status;var o=n.data.data;o&&t.initCoupon(o)}).catch(function(t){console.log(t)})},methods:{initCoupon:function(t){this.couponlist=t.couponlist,this.openid=t.openid},eachCouponlog:function(t){for(var n=!1,o=0;o<t.length;o++)t[o].open_id==this.openid&&(n=!0);return n},receiveCoupon:function(t,n,o){var e=this;this.post.coupon_guid=t;var a=event.currentTarget;r.a.post(e.domain+"/activity/coupon/receive-coupon.html",u.a.stringify({data:e.post}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){if(t.data.code<0)return e.$dialog.toast({mes:"获取失败！",timeout:1500,icon:"error"}),!1;a.disabled="true",a.style.cssText="background-color:#ccc;color:#f0f0f0;pointer-events:none",a.innerText="已领取",e.$dialog.toast({mes:"获取成功！",timeout:1500,icon:"success"}),e.$dialog.notify({mes:"点击右上角，转发到朋友圈可参与抽奖！",timeout:5e3,callback:function(){console.log("我走咯！")}})}).catch(function(t){console.log(t)})},wxShare:function(){var t=this,n=window.document.location.pathname,o=(n.substring(0,n.substr(1).indexOf("/")+1),{imgUrl:t.domain+"/"+s.a.substr(1),link:window.location.href,title:"分享优惠券，获大奖",desc:"海悦国旅送您优惠券，分享优惠券还能抽现金大奖",success:function(){r.a.get("/activity/coupon/share.html").then(function(n){0===n.data.code&&""!=n.data.data.group_id&&(location.href=t.domain+"/lottery/#/wheel/"+n.data.data.group_id)}).catch(function(t){console.log(t)})}});weixin.on("ready",function(){weixin.bindData(o),weixin.bindShareInfo()})}}}},44:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(2),a=o.n(e),i=o(4);o.n(i);n.default={name:"app",data:function(){return{domain:"http://"+window.location.hostname,nickname:"",headimgurl:""}},created:function(){var t=this;a.a.get(t.domain+"/activity/coupon/my.html").then(function(n){if(-2===n.data.code)return window.location.href=t.domain+"/wechat/oauth/callback.html",!1;var o=n.data.data;o&&t.initMy(o)}).catch(function(t){console.log(t)})},methods:{initMy:function(t){this.nickname=t.nickname,this.headimgurl=t.headimgurl}}}},45:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(2),a=o.n(e),i=o(4);o.n(i);n.default={name:"app",data:function(){return{domain:"http://"+window.location.hostname,mycoupon:{},coupon_guid:"",title:"",price:"",depict:"",status:1,post:{}}},created:function(){var t=this;a.a.get(t.domain+"/activity/coupon/my-coupon.html").then(function(n){if(-2===n.data.code)return window.location.href=t.domain+"/wechat/oauth/callback.html",!1;var o=n.data.data;o&&t.initCoupon(o.mycoupon)}).catch(function(t){console.log(t)})},methods:{initCoupon:function(t){this.mycoupon=t,console.log(this.mycoupon)}}}},46:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(2),a=o.n(e),i=o(4);o.n(i);n.default={name:"app",data:function(){return{domain:"http://"+window.location.hostname,myprize:{},status:1,post:{}}},created:function(){var t=this;a.a.get(t.domain+"/activity/coupon/my-prize.html").then(function(n){if(-2===n.data.code)return window.location.href=t.domain+"/wechat/oauth/callback.html",!1;var o=n.data.data;o&&t.initPrize(o.myprize)}).catch(function(t){console.log(t)})},methods:{initPrize:function(t){this.myprize=t,console.log(this.myprize)}}}},47:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(5),a=o(23),i=o.n(a),s=o(21),c=o(24),r=o.n(c),l=o(22);o.n(l);e.default.use(r.a),e.default.config.productionTip=!1,e.default.filter("time",function(t){return new Date(1e3*parseInt(t)).toLocaleString().replace(/年|月/g,"-").replace(/日/g," ")}),new e.default({el:"#app",router:s.a,template:"<App/>",components:{App:i.a}})},61:function(t,n){},62:function(t,n){},63:function(t,n){},64:function(t,n){},70:function(t,n,o){t.exports=o.p+"img/dzp.a10dba0.jpg"},71:function(t,n,o){o(61);var e=o(1)(o(43),o(75),null,null);t.exports=e.exports},72:function(t,n,o){o(64);var e=o(1)(o(44),o(79),null,null);t.exports=e.exports},73:function(t,n,o){o(62);var e=o(1)(o(45),o(76),null,null);t.exports=e.exports},74:function(t,n,o){o(63);var e=o(1)(o(46),o(78),null,null);t.exports=e.exports},75:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("yd-layout",[o("yd-navbar",{attrs:{title:"首页"}}),t._v(" "),o("div",t._l(t.couponlist,function(n,e){return o("ul",[o("li",[o("div",{staticClass:"coupon_show"},[o("div",{staticClass:"stamp stamp04"},[o("div",{staticClass:"par"},[o("p",[t._v(t._s(n.title))]),o("sub",{staticClass:"sign"},[t._v("￥")]),o("span",[t._v(t._s(n.price))]),o("sub"),t._v(" "),o("p")]),t._v(" "),o("div",{staticClass:"copy"},[t._v("优惠券\n              "),o("p",[o("br")]),t._v(" "),t.eachCouponlog(n.couponLog)?t._e():o("yd-button",{ref:"btnget{{index}}",refInFor:!0,attrs:{id:"btnget{{index}}",type:"hollow"},nativeOn:{click:function(o){t.receiveCoupon(n.coupon_guid,e,o)}}},[t._v("获取\n              ")]),t._v(" "),t.eachCouponlog(n.couponLog)?o("yd-button",{attrs:{type:"disabled"}},[t._v("已获取")]):t._e()],1),t._v(" "),o("i",{staticStyle:{"padding-left":"60px"}},[t._v(t._s(n.depict))])])]),t._v(" "),o("br")])])})),t._v(" "),o("yd-tabbar",{attrs:{slot:"tabbar",fixed:""},slot:"tabbar"},[o("yd-tabbar-item",{attrs:{title:"首页",link:"/",active:""}},[o("yd-icon",{attrs:{slot:"icon",name:"home"},slot:"icon"})],1),t._v(" "),o("yd-tabbar-item",{attrs:{title:"个人中心",link:"/my"}},[o("yd-icon",{attrs:{slot:"icon",name:"ucenter-outline"},slot:"icon"})],1)],1)],1)},staticRenderFns:[]}},76:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("yd-layout",[o("yd-navbar",{attrs:{title:"我的优惠券"}},[o("a",{attrs:{slot:"left",onclick:"window.history.go(-1)"},slot:"left"},[o("yd-navbar-back-icon")],1)]),t._v(" "),o("yd-cell-group",t._l(t.mycoupon,function(n){return o("ul",[o("li",{staticClass:"couponli"},[o("div",{staticClass:"stamp ",class:[n.status>0?"stamp02":"stamp01"]},[o("div",{staticClass:"par"},[o("p",[t._v(t._s(n.title))]),o("sub",{staticClass:"sign"},[t._v("￥")]),o("span",[t._v(t._s(n.price))]),o("sub"),0==n.status?o("p",[t._v("未使用")]):t._e(),n.status>0?o("p",[t._v("已经使用")]):t._e()]),t._v(" "),o("div",{staticClass:"copy"},[t._v("优惠券"),o("p",[t._v("领："+t._s(t._f("time")(n.insert_time)))]),n.status>0?o("p",[t._v("销："+t._s(t._f("time")(n.operat_time)))]):t._e()]),t._v(" "),o("i",{staticStyle:{"padding-left":"60px"}},[t._v(t._s(n.depict))])])])])})),t._v(" "),o("yd-tabbar",{attrs:{slot:"tabbar",fixed:""},slot:"tabbar"},[o("yd-tabbar-item",{attrs:{title:"首页",link:"/"}},[o("yd-icon",{attrs:{slot:"icon",name:"home"},slot:"icon"})],1),t._v(" "),o("yd-tabbar-item",{attrs:{title:"个人中心",link:"/my",active:""}},[o("yd-icon",{attrs:{slot:"icon",name:"ucenter-outline"},slot:"icon"})],1)],1)],1)},staticRenderFns:[]}},77:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]}},78:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("yd-layout",[o("yd-navbar",{attrs:{title:"我的抽奖"}},[o("a",{attrs:{slot:"left",onclick:"window.history.go(-1)"},slot:"left"},[o("yd-navbar-back-icon")],1)]),t._v(" "),o("yd-cell-group",t._l(t.myprize,function(n){return o("ul",[o("li",[o("div",{staticClass:"stamp ",class:[n.modify_time>1?"stamp02":"stamp01"]},[o("div",{staticClass:"par"},[o("p",[t._v(t._s(n.act_name))]),o("sub",{staticClass:"sign"}),o("span",[t._v(t._s(n.name))]),o("sub"),0==n.modify_time?o("p",[t._v("未领奖")]):t._e(),n.modify_time>1?o("p",[t._v("已领奖")]):t._e()]),t._v(" "),o("div",{staticClass:"copy"},[t._v("奖项"),o("p",[t._v("获："+t._s(t._f("time")(n.insert_time)))]),n.modify_time>0?o("p",[t._v("领："+t._s(t._f("time")(n.modify_time)))]):t._e()]),t._v(" "),o("i",{staticStyle:{"padding-left":"60px"}})])])])})),t._v(" "),o("yd-tabbar",{attrs:{slot:"tabbar",fixed:""},slot:"tabbar"},[o("yd-tabbar-item",{attrs:{title:"首页",link:"/"}},[o("yd-icon",{attrs:{slot:"icon",name:"home"},slot:"icon"})],1),t._v(" "),o("yd-tabbar-item",{attrs:{title:"个人中心",link:"/my",active:""}},[o("yd-icon",{attrs:{slot:"icon",name:"ucenter-outline"},slot:"icon"})],1)],1)],1)},staticRenderFns:[]}},79:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("yd-layout",[o("yd-navbar",{attrs:{title:"个人中心"}},[o("a",{attrs:{slot:"left",onclick:"window.history.go(-1)"},slot:"left"},[o("yd-navbar-back-icon")],1)]),t._v(" "),[o("section",{staticClass:"g-scrollview",staticStyle:{"text-align":"center",margin:"0 auto"},attrs:{id:"scrollView"}},[o("h1",{staticClass:"demo-logo",staticStyle:{"text-align":"center",margin:"0 auto"}},[o("img",{attrs:{src:t._f("imgUrl")(t.headimgurl)}})]),t._v(" "),o("h2",{staticClass:"demo-detail-title"},[t._v(t._s(t.nickname))])])],t._v(" "),o("yd-cell-group",[o("yd-cell-item",{attrs:{arrow:""}},[o("yd-icon",{attrs:{slot:"icon",name:"discount",size:".42rem"},slot:"icon"}),t._v(" "),o("span",{attrs:{slot:"left"},slot:"left"},[t._v("我的优惠券")]),t._v(" "),o("span",{attrs:{slot:"right"},slot:"right"},[o("router-link",{attrs:{to:"/myCoupon"}},[t._v("查看")])],1)],1),t._v(" "),o("yd-cell-item",{attrs:{arrow:""}},[o("yd-icon",{attrs:{slot:"icon",name:"star",size:".42rem"},slot:"icon"}),t._v(" "),o("span",{attrs:{slot:"left"},slot:"left"},[t._v("我的抽奖")]),t._v(" "),o("span",{attrs:{slot:"right"},slot:"right"},[o("router-link",{attrs:{to:"/myPrize"}},[t._v("查看")])],1)],1)],1),t._v(" "),o("yd-tabbar",{attrs:{slot:"tabbar",fixed:""},slot:"tabbar"},[o("yd-tabbar-item",{attrs:{title:"首页",link:"/"}},[o("yd-icon",{attrs:{slot:"icon",name:"home"},slot:"icon"})],1),t._v(" "),o("yd-tabbar-item",{attrs:{title:"个人中心",link:"#",active:""}},[o("yd-icon",{attrs:{slot:"icon",name:"ucenter-outline"},slot:"icon"})],1)],1)],2)},staticRenderFns:[]}}},[47]);
//# sourceMappingURL=app.ed5e1c019b97e43a84a7.js.map