<?php
/**
 * CenterController
 * 作者: limj
 * 版本: 17-1-5
 */

namespace api\modules\ticketv1\controllers;


class CenterController extends BaseController
{
    public $modelClass = 'common\models\xxcb\TicketActivity';
    public $limit = 4;
    /**
     * 描述：首页编辑精选
     */
    public function actionIndex()
    {
        $data = $this->getList();
        $page = \Yii::$app->request->get('page') ? intval(\Yii::$app->request->get('page')) : 0;
        $type = \Yii::$app->request->get('type') ? intval(\Yii::$app->request->get('type')) : 0;
        if($type == 0)
        {
            $dataArr = array_chunk($data, 3);
            return $this->show($dataArr[$page]);
        }
        elseif($type == 1)
        {
            $dataArr = array($data[0], $data[3], $data[6]);
        }
        elseif($type == 2)
        {
            $dataArr = array($data[1], $data[4], $data[7]);
        }
        elseif($type == 3)
        {
            $dataArr = array($data[2], $data[5], $data[8]);
        }
        return $this->show($dataArr);
    }

    private function getList()
    {
        return [
            ['title'=>'天女散花：李磊艺术展',
                'date'=>'2017年01月06日 09:00-16:40',
                'address'=>'长沙市民生现代美术馆',
                'price'=>'0',
                'pic'=>'https://img1.doubanio.com/view/event_poster/median/public/105736b04f2a787.jpg',
                'type'=>1,
            ],
            ['title'=>'德国广播交响乐团',
                'date'=>'2017年01月03日 09:00-16:40',
                'address'=>'长沙文化广场',
                'price'=>'140',
                'pic'=>'https://img3.doubanio.com/view/event_poster/median/public/fc631161e7043a0.jpg',
                'type'=>2,
            ],
            ['title'=>'白洋古筝乐器讲解暨音乐会',
                'date'=>'2017年01月06日 09:00-16:40',
                'address'=>'长沙文化广场',
                'price'=>'180',
                'pic'=>'https://img3.doubanio.com/view/event_poster/median/public/e0379087e09c05e.jpg',
                'type'=>3,
            ],
            ['title'=>'德国广播交响乐团',
                'date'=>'2017年01月06日 09:00-16:40',
                'address'=>' 长沙市音乐厅',
                'price'=>'180',
                'pic'=>'https://img3.doubanio.com/view/event_poster/median/public/9cbcf7ab4896b0d.jpg',
                'type'=>1,
            ],
            ['title'=>'钢琴家乔纳森·富尔内尔&斯洛伐克日利纳国家交响乐团音乐会',
                'date'=>'2017年01月07日 11:00-16:40',
                'address'=>' 长沙市音乐厅',
                'price'=>'200',
                'pic'=>'https://img1.doubanio.com/view/event_poster/median/public/900d134e1ecf0db.jpg',
                'type'=>2,
            ],
            ['title'=>'贝多芬第九交响曲《欢乐颂》',
                'date'=>'2017年01月07日 20:00-22:00',
                'address'=>' 长沙市音乐厅',
                'price'=>'80',
                'pic'=>'https://img1.doubanio.com/view/event_poster/median/public/f664befcd98497b.jpg',
                'type'=>3,
            ],
            ['title'=>'天使爱春天—德国埃森少女合唱团音乐会',
                'date'=>'2017年01月12日 20:00-22:00',
                'address'=>' 长沙市音乐厅',
                'price'=>'30',
                'pic'=>'https://img1.doubanio.com/view/event_poster/median/public/c7c78228081b428.jpg',
                'type'=>1,
            ],
            ['title'=>'以书换咖啡：你带一本书来到这里享受美好的一天',
                'date'=>'2017年01月12日 08:00-12:00',
                'address'=>'岳麓区 橘子洲江神庙旁橘洲客厅唐宁书店',
                'price'=>'0',
                'pic'=>'https://img3.doubanio.com/view/event_poster/median/public/7b2bd28a2949c55.jpg',
                'type'=>2,
            ],
            ['title'=>'闲暇的时间，来玩泥巴，静下心，做一个匠人',
                'date'=>'2017年01月11日 09:00-12:00',
                'address'=>'芙蓉区 长沙市芙蓉区人民中路德政园润心苑',
                'price'=>'50',
                'pic'=>'https://img3.doubanio.com/view/event_poster/median/public/08e9bad2791ab22.jpg',
                'type'=>3,
            ],
        ];
    }
} 